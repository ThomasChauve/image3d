%% Import Script for PoleFigure Data
%
% This script was automatically created by the import wizard. You should
% run the whoole script or parts of it in order to import your data. There
% is no problem in making any changes to this script.

%% Specify Crystal and Specimen Symmetries

% crystal symmetry
CS = crystalSymmetry('m-3m', [1 1 1]);

% specimen symmetry
SS = specimenSymmetry('1');

% plotting convention
setMTEXpref('xAxisDirection','north');
setMTEXpref('zAxisDirection','outOfPlane');

%% Specify File Names

% path to files
pname = '/home/chauvet/PythonTool/image3d/image3d';

% which files to be imported
fname = [pname '/data.txt'];

%%
data=load(fname);
%%
vec=vector3d(data(:,1),data(:,2),data(:,3));
w=data(:,4);
%%
figure
plot(vec,'contourf')


%%
[TVoigt, TReuss, THill] = calcTensor(vec,T,'weights',w)
%%
lim= prctile(w,90)

T=dyad(vec,vec)
SecondOrderTensor=sum(T)./length(id)
[V,E] = eig(SecondOrderTensor)